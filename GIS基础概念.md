# GIS基础概念

本文是在 `木遥` 2016 年 6 月编写的 《GIS基础知识培训》一文的基础上而来。

同时加上了自己从其他文章中收集到的有用信息。



<br>

尽管所学习的文章写于 5 年前，但是里面所讲解的绝大多数知识点并不过时。



<br>

## 什么是GIS？

### GIS的定义

**GIS，是英文单词 Geographic Information System 的缩写。**

**GIS 对应的中文翻译为：地理信息系统**

> 有时也被称为 地学信息系统、地理空间信息系统

**地理信息系统(GIS)：**

在计算机硬件、软件系统支持下，对整个或部分地球表层(包括大气层)空间中的有关地理分布数据进行采集、储存、管理、运算、分析、显示和描述的技术系统。



<br>

近些年对 GIS 又有新的解释，认为它是 Geographic information service 的简写。那么就意味着

**GIS 对应的含义为：地理信息服务。**

**GIS 主要操作：地图可视化、地理分析、数据库操作**

可以简单得理解为，地理信息服务的 GIS 实际上是 地理信息系统的 GIS 的 分析、显示和描述 那部分功能。

<br>

**对于网页前端开发人员而言，实际上所从事的就是 地理信息服务 GIS 服务。**



<br>

**LBS：是英文单词 Location Based Services 的缩写。**

**LBS 对应的中文翻译为：基于位置的服务**

**基于位置的服务(LBS)：**

利用各类型的定位技术来 获取定位设备当前的所在位置，通过移动互联网想定位设备提供信息资源和基础服务。

> 从定义上可以看出，LBS 功能范围小于 GIS。



<br>

### GIS的应用

你可能很自然想到手机地图导航，这些导航提供的服务有：

1. 当前位置
2. 道路建筑
3. 路线导航
4. 道路拥挤程度
5. ...

或者想到的是外卖软件，这些手机应用提供的服务有：

1. 当前所处商圈
2. 周边外卖商户
3. 送餐人员当前位置
4. ...

以上应用均属于 GIS 中的一种应用，但绝对不是 GIS 的全部。

**GIS 不仅是地理图，还包含深层空间信息。**

何为深层空间信息？

举例：

1. 一座高架桥对沿途周边的噪音污染信息
2. 黄河水文信息
3. 基于犯罪的地理空间分析

位置和地图仅仅是最基础的服务，在这基础之上的 深层空间信息分析才是 GIS 的核心内容。



<br>

## GIS的标准、体系结构和软件平台

### GIS的标准

通过上一节的讲述，我们知道有些 GIS 应用是用来处理河道水文信息的，有的 GIS 应用是用来处理噪音污染的，可以想象不同的用途所需的数据格式、规范也肯定相差很大。

不同的 GIS 软件所支持的数据存储格式不能相互利用，需要经过格式转换才能互相被对方使用。

这就引发出 GIS 的标准，若所有 GIS 软件都支持、符合这个统一的标准，那么他们之间的数据格式转换就会容易很多。



<br>

目前世界上负责制定这个标准的机构为：

**OGC：Open Geospatial Consortium 开放地理空间信息联盟。**

实际上 OGC 只是一个非盈利国际化标准化组织，得到了世界很多国家的认可。

很多 GIS 项目招标要求上，都会写：需符合 OGC 标准。



<br>

OGC 和 ISO/TC211 共同推出了基于 Web 服务的空间数据交互操作实现规范。

1. WMS：Web Map Service 网络地图服务

   > 详细可查看：https://adhoc.osgeo.osuosl.org/livedvd/docs/zh/standards/wms_overview.html

2. WFS：Web Feature Service 网络地理要素服务

   > 详细可查看：http://adhoc.osgeo.osuosl.org/livedvd/docs/zh/standards/wfs_overview.html

3. WCS：Web Coverage Service 网络地理场数据服务

   > 详细可查看：https://adhoc.osgeo.osuosl.org/livedvd/docs/zh/standards/wcs_overview.html

4. WPS：Web Processing Service 网络地理信息处理服务

   > 详细可查看：https://adhoc.osgeo.osuosl.org/livedvd/docs/zh/standards/wps_overview.html

5. ...等等等

   > 更多标注可查看：https://adhoc.osgeo.osuosl.org/livedvd/docs/zh/standards/



<br>

用于空间传输与转换的地理信息标记语言：GML

无缝继承各种在线空间处理和位置服务的框架：OWS (OGC Web Service)



<br>

### GIS的体系结构

GIS 结构体系可以分为 3 部分：

1. 数据

   > 储存数据

2. 服务层

   > 提供地图服务，各种API供客户端调用

3. 客户端

   > 桌面程序、浏览器、手机应用



<br>

### 常见的GIS软件平台

**商业收费的软件平台：**

国外龙头：美国环境系统研究所公司的 ArcGIS

国内龙头：超图集团的 SuperMap GIS



<br>

**免费开源的软件平台：**

C/C++：Mapserver

JavaEE：Geoserver



<br>

Cesium：主要用于 3D 地图

OpenLayers：主要用于 2D 地图



<br>

# GIS坐标系

坐标系是 GIS 图形显示、数据组织分析的基础。

### 坐标系的种类

**GIS坐标系大致分为 3 种：**

1. 平面坐标系：Plannar Coordinate System，用户自定义坐标系统，适用于局部小区域的定义使用。
2. 地理坐标系：Geographic Coordinate System，球面坐标，参考平面是椭球面，坐标单位为 经纬度。
3. 投影坐标系：Projection Coordinate System，平面坐标，参考平面是水平面，坐标单位是 米 或千米。



<br>

对于地球信息而言，需要足够的精准，因此不可以把地球简单理解为一个球体，地球是椭圆体。

目前我国采用的是 GRS(1980) 椭球体。

1. 长半轴：6378137 米
2. 短半轴：6356752 米
3. 扁率：1:298.257



<br>

### 平面坐标系

平面坐标系通常应用于小范围内，不需要投影或坐标变换的场景中。

你可以把它理解为：

1. 不需要经纬度和真实的位置信息
2. 只用于表达局部相对坐标的坐标系。



<br>

### 地理坐标系

**地心坐标系：**

以地球的质心为原点建立的空间直角坐标系。

目前世界绝大多数国家都采用地心坐标系，我国推出的地心坐标系为 CGCS2000 标准。



<br>

另外一种为 参心坐标系，几乎被淘汰，所以不做过多解释。



<br>

地理坐标系的单位是：经纬度。

<br>

> 我个人的理解：地理坐标系实际上是图形学中的 直角坐标系 + 球坐标系 的一种互相结合的形式。



<br>

**关于经纬度的补充说明：**

通常有 2 种书写形式：

1. 经纬度，例如 113 ° 12′ 34″
2. 十进制，例如 113.534532

这两种形式的互相转换公式为：十进制 = 度 + 分/60 + 秒/3600



<br>

### 投影坐标系

**将地球的曲面转变为平面，即投影坐标系。**

将地球椭球面上的点映射到平面的方法，称为地图投影。

> 这里的 投影 和图形学 OpenGL 中的投影 所表达的含义是相同的



<br>

**为什么要使用投影？**

1. 球面和平面相比，平面更加方便进行距离、方位、面积等参数的量算。
2. 球面和平面相比，平面更符合人类的视觉心理



<br>

**投影会带来误差！**

由于地球是一个不规则球体，转换到平面的过程中必然经过变形或破裂处理，因此完全没有变形误差的地图是不存在的。



<br>

**投影的 3 种方式：**

1. 等角：保持角度和形状不变，而面积变形的地图
2. 等积：与等角相反，保持面积不变，而角度和形状变形的地图
3. 任意投影：角度、形状、面积都会有变形的地图



<br>

**选择使用哪种投影的因素：**

1. 制图区域的范围、形状和地理位置
2. 地图的用途、出版方式和其他特殊要求

<br>

具体可细分为：

1. 正轴(上下)、横轴(左右)、斜轴(倾斜)
2. 圆锥、圆柱、方位

<br>

例如：

1. 中国地图，仅显示中国区域，采用 正轴圆锥投影

2. 上下为直线，左右为椭圆的世界地图，采用 多圆锥投影

   > 这个地图无法显示 南北 2 极

3. 南极、北极，正方为投影

   > 你可以理解为地图的 底视图 或 顶视图

4. 显示任意半球，即重点突出世界上某个地方，采用斜方位投影。



<br>

### 墨卡托(Mercator)投影

墨卡托投影是荷兰地图学家 墨卡托 在 1569 年提出的。

**墨卡托投影一种 等角正切圆柱投影。**

**墨卡托投影的定义：**

1. 假设地球被未在一个中空的圆柱里，其标准经纬线与圆柱相切接触

   > 也就是说这个地球紧贴着圆柱体内壁，圆柱体的半径和地图的半径是相同的
   >
   > 但是请注意，圆柱体的高度要比地球高很多

2. 然后假象地球中心有一盏灯，把球面上的图形投影到圆柱体上

3. 再把圆柱体展开，得到一个平面，该平面地图就是一副选定标准纬线上的 墨卡托投影 所绘制出的地图。



<br>

**墨卡托投影的特点：**

由于墨卡托采用 等角投影，所以墨卡托投影得到的地图没有角度变化，但是有面积变化。

在地图上保持方向和角度的正确是墨卡托投影的优点。

所以墨卡托投影地图常用作航海或航空领域。

> 在地图上某个地点，沿着同一个方向不断向前，最终相当于绕着地球一圈，可重新回到该地点。



<br>

**墨卡托投影地图上看到的面积和实际面积相差巨大。**

越是靠近两极的地方，地图上显示的面积要比实际面积大很多。

例如：

1. 地图上看 格陵兰岛 和 非洲面积差不多，但实际情况是非洲面积是 格陵兰岛 的 15 倍。
2. 地图上看 巴西 还没有 阿拉斯加 面积大，但实际情况是巴西面积是 阿拉斯加的 5 倍。
3. 地图上看 欧洲似乎比北美大，但实际情况刚好相反
4. 地图上看 俄罗斯 要比非洲大，但实际情况也是相反



<br>

### 高斯-克吕格(Gauss-Kruger)投影

> 请注意，高斯 和 克吕格 是 2 个人。

由德国数学家 高斯 与 19 世纪 20 年代拟定，后经德国大地测量学家 克吕格 1921 年对投影公式补充，因此被称为 高斯-克吕格投影。

由于高斯 是最先提出者，所以 高斯-克吕格投影简称 高斯投影。



<br>

**高斯投影是一种 等角横切椭圆柱投影。**

**高斯投影的定义：**

1. 假想有一个椭圆柱体横向套在地球椭球体外面，并与某一条子午线(此子午线称为中央子午线或轴子午线)相切。

2. 椭圆柱的中心轴通过椭球体中心

3. 然后 用一定投影方法，将中央子午线两侧各一定经差范围内的地区投影到椭圆柱面上

   > 你可以想象成将一个桔子(或西瓜)用刀从上 和 从下 向中间切开，但是中间部分皮却连着不切断，形成一瓣一瓣的形状。

   > 请注意这里的用词 “一定经差范围内”，也就是说若采用不同程度的经差范围最终得出的投影也不会相同。
   >
   > 具体经差选择多少呢？我们稍后再将。

4. 再将此柱面展开即称为投影面



<br>

**等角横轴切圆柱投影的结果：**

1. 离中央子午线越远，变形越大
2. 赤道是直角，离开赤道的纬线是弧线，凸向赤道
3. 没有角度变形
4. 长度和面积变形很小



<br>

**高斯投影的特点：**

1. 中央子午线长度变形比为 1

   > 也就是说中央子午线长度不变

2. 在同一条经线上，长度变形随维度的降低而增大，在赤道处为最大

3. 在同一条纬线上，长度变形随经度的增加而增大，且增大速度较快

4. 在 6° 带范围内，长度最大变形不超过 0.14%



<br>

**经差范围的选择：**

1. 6°分带：用于 1:25万 ~ 1:50万 比例尺地图。

   起始于初子午线(格林威治)，按照经差 6 度为一个投影带 自西向东划分，全球共分为 60 个投影带，我国范围可分为 11 个 6 度带。

2. 3°分带：用于大于 1:1万比例尺地图。

   起始于东经 1°30′，按经差 3 度为一个投影带自西向东划分，全球共分 120 个投影带，我国范围可分成 22 个3 度带。



<br>

**通过分带控制变形：**

坐标系原点为每个投影带的中央经线与赤道交点。

为了便于地形图的测量作业，在高斯-克吕格投影带内布置了平面直角坐标系，具体方法是：

1. 规定中央经线为 X 轴，赤道为 Y 轴

2. 中央惊险与赤道交点为坐标原点

3. x 值在北半球为正，南半球为负

   > 我国疆域均在北半球，因此 x 值均为正。

4. y 值在中央经线以东为正，以西为负。

   > 我国为了避免 y 值出现负值，规定各投影带的坐标纵轴均西移 500km，中央经线上原横坐标值由 0 变为 500km。



<br>

**带号：**

由于 高斯-克吕格投影每一个投影带的坐标都是对本带坐标 原点的相对值，所以各带的坐标完全相同，为了区分某一坐标系统属于哪一带，**在 横轴坐标 前加上带号**，例如 （4231898m, 20655933m），其中第二个数值中开头的 20 为带号。



<br>

### 国际坐标系标准

**第1种：WGS84坐标系**

即我们平时说的 经度 纬度 多少多少，同时也是 GPS 系统采用的坐标系。

**第2种：Web Mercator 投影坐标系**

即 Web 墨卡托投影坐标系，几乎所有的网络地图都采用 Web Mercator 坐标系。

请注意：这里说的 Web 墨卡托投影坐标系  是 墨卡托投影形成地图的一种形式。



<br>

### 国内坐标系标准

“1985国家高程基准” 为现行通用标准。

**高程：**

高程指的是某点沿铅垂线方向到绝对基面的距离，称 绝对高程。

某点沿铅垂线方向到某假定水准基面的距离，成 假定高程。



<br>

已经被弃用的 2 个坐标系：

1. 北京 54 坐标系(BJZ54)
2. 西安 80 坐标系(GDZ80)



<br>

**当前标注：2000 国家大地坐标系(CGCS2000)**

**CGCS2000：China Geodetic Coordinate System 2000**



<br>

**补充说明：WGS84**

**WGS84：World Geodetic System 1984**

**WGS84**  是为 GPS 全球定位系统使用而建立的坐标系统。



<br>

CGCS2000 与 WGS84 所得的经纬度最大差异只有 0.11mm，所以对于一般的工程测量，可以把 CGCS2000 与 WGS84 看作相同的。



<br>

### 经纬网和方里网

**经纬网：**

在地球仪或地图上，经线和危险相互交织构成了经纬网。



<br>

**方里网：**

主要应用于纸质地图和军事领域。因为是每隔整公里绘制出坐标纵线与坐标横线，所以被称之为 方里网。



<br>

### 地图比例尺、分辨率

**地图比例尺：**

图上距离 除以 实地距离的比值。

请注意，这里的单位是 厘米。

例如：1:5千、1:1万、1:2.5万、1:10万、1:25万、1:100万



<br>

**地图分辨率：**

是指对于电子地图(图片而非纸质)中，一个像素代表地面的大小。

例如，当分辨率为 1m 时，1 个像素表示 2 个含义：

1. 实际地面 1米 的距离
2. 实际地面 1平米 的面积



<br>

## 地图图层

在 GIS 展示中，通过将不同图层的描述和叠加，最终呈现出需要表达的内容。

假设当前有一张基础的 郑州市高新区的地图，那么：

1. 如果叠加一层道路拥堵情况的图层，那么此时表达出来的就是 道路拥堵
2. 如果叠加一层商圈分布范围的图层，那么此时表达出来的就是 商圈图
3. 如果叠加一层居住人口分布的图层，那么此时表达出来的就是 人口分布图



<br>

### 图层中数据的分类：矢量数据和栅格数据

GIS 采用矢量模型与栅格模型两种不同的数学模型来对现实世界进行模拟。



<br>

**矢量数据：**

矢量数据结果类似 (x, y) 或 (x, y, z) 坐标，利用 点、线、面 的形式来表达现实世界。

具有定位明显，属性隐含的特点。

由于矢量数据结构紧凑、冗余度低，表达精度高。



<br>

**优点：** 数据结构紧凑、冗余度低，有利于网络和检索分析，图形显示质量好，精度高

**缺点：** 数据结构复杂，多边形叠加分析比较困难



<br>

**栅格数据：**

栅格数据 就是 瓦片模型，是以二维矩阵的形式来表示空间地物和现象分布的数据结构方式。

每个矩阵单位被称为一个栅格单元(cell)，栅格的每个数据表示地物或现象的属性数据。

因此栅格数据有属性明显，定位隐含的特点。



<br>

四叉树编码是最有效的栅格数据压缩编码方法之一，还能够提高图形操作效率，具有可变的分辨率。



<br>

**优点：** 数据结构简单，便于空间分析和地标模拟，现势性强。

> 现势性：地学术语，是地图所提供的地理空间信息要尽可能地反应当前最新的情况

**缺点：** 数据量大，投影转换比较复杂



<br>

**矢量数据与栅格数据各有优缺点，两者共存，各自有发挥和使用场景。**



<br>

### 瓦片(切片)地图

瓦片地图金字塔模型是一种多分辨率层次模型，从瓦片金字塔的底层到顶层，分辨率越来越低，但表示的地理范围不变。

首先确定地图服务平台所要提供的缩放级别的数量 N ，把缩放级别最高、地图比例尺最大的地图图片作为金字塔的底层，即第 0 层，并对其进行分块。然后将第 0 层的 2x2 个瓦片拼合成第 1 层中的 1个瓦片，以此类推，直到到 N-1 层，构成整个瓦片金字塔。

<br>

切片之后的数据被称为 瓦片。

<br>

像平时使用的百度地图、谷歌地图就都是这种瓦片地图。不同的缩放级别对应不同的瓦片图层。



<br>

### WebGIS的地图结构

目前绝大多数手机或PC 地图程序中是基于 栅格(瓦片) 模型。

大致由 3 个图层构成：

1. 地图底图
2. 矢量图层
3. 自定义叠加的业务图层



<br>

例如一个城市地图可能有以下几层构成：

1. 遥感影响
2. 高程数据
3. 行政区划
4. 道路网
5. 监控点



<br>

**底图：**

地图最底层的图层，且是瓦片图，就被称为 “底图”。

底图包含了最基本、最常用的地图数据元素。例如：道路、河流、桥梁、绿地，甚至有些底图包含建筑物或其他地物的轮廓等。

底图通常是通过选取必要地图矢量数据项，然后通过地图美工的工作，设定颜色、字体、显示方式、显示规则等，渲染得到的。

> 通常会渲染出一整套不同分辨率的瓦片地图



<br>

**其他图层**

在瓦片底图之上，叠加一些官方提供的矢量图层，例如道路走向、POI 点图层、文字注记层等。

> POI：Point of Interest，直译的话为 “兴趣点”，准确来说应该被称为 “信息点”。
>
> 在地理信息系统中，一个 POI 可以是一栋房子、一个商铺、一个加油站等。

在此基础上，可以按照各种地图服务商提供的 API 开发业务图层，以叠加在上面，构成了各种 GIS 业务应用服务。



<br>

**为何地图选择瓦片图，而不是矢量数据？**

1. 为了负载大规模并发用户。

   如果不采用生成好的瓦片图，而是采用矢量引擎实时生成底图，那么服务器运算量会非常大，无法满足互联网海量用户。

2. 在生成瓦片图时，还可以加入美工的设计，让瓦片地图更加好看、个性化。



<br>

## 地图要素

在上一节，我们讲到了 2 个概念：

1. GIS数据有矢量数据 和 栅格数据
2. 地图由 瓦片底图 和 叠加在上面的其他矢量图层构成

本小节主要讲解 矢量数据 的构成。



### 要素的定义

<br>

**矢量数据的单个对象被称为 “要素”，矢量图层是由多个 要素 构成的，要素主要分为 点、线、面 等类型。**



<br>

**要素的分类：**

要素分类主要是：点、线、面，虽然还有很多其他类型的要素，例如 文字注记 但我们依将要素划分为这 3 类。

> 文字注记 其实也可以看作是 点

1. 点：用于定义那些小到无法用线或面表示的地理要素的离散位置，例如 水井、电话线杆 和 流汁。

   点也可以表示地理位置、GPS 坐标 或 山峰

2. 线：线用于表示宽度过小而无法用面表示的地理对象的形状和位置，例如接到中心线或河流。

   线还可以用于表示只具有长度而不具有面积的要素，例如 等值线 或 行政边界。

3. 面：面是一个多边形，表示一个区域。面用于表示同类要素的形状和位置，例如 地块。



<br>

**要素之间的拓普关系：**

| 要素的关系 | 可以构成的拓扑关系                                           |
| ---------- | ------------------------------------------------------------ |
| 面与面     | 相邻、相接、岛(包含关系)                                     |
| 线与线     | 分叉、穿过、相交                                             |
| 线与面     | 线在面中、线的一个端点在面的边界上、线与面相交、<br />线与面的顶点相交、线穿过面、线在面的边界上 |
| 点与线     | 点在线上、点在线的一边                                       |
| 点与面     | 点在面中、点在面的边界上                                     |



<br>

### 要素的构成

**要素数据由：坐标、样式、属性 3 个部分构成。**



<br>

**坐标：**

点：经度、维度、坐标系 3 个属性组成

> 如无特殊说明，坐标系都是指 WGS84

线：有多个点组成

面：有一条或多条闭合线组成



<br>

**样式：**

样式包含了地图样式的方方面面，例如：填充色、图标样式、图片样式、规则图形样式、边界样式、文字样式等。



<br>

**属性：**

属性 即 除地理信息以外其他相关扩展信息。例如要素要表示的名称、长度、备注等信息。

属性信息可以为空。



<br>

## GIS数据来源

根据 GIS 数据来源、采集渠道、采集方法，大致可以分为以下几种类型。



### 底图数据来源

> 请注意我们标题使用的是 底图，而下面文字中使用的是 地图，意思是下文提到的地图 实际上是我们开发 GIS 业务所用到的底图。



**地图的数据采集：**

1. 实地采集
2. 遥感卫星和航拍

目前实地采集的比例越来越少，更多都是通过遥感卫星和航拍来采集的。



**地图来源 1：中国官方地图**

国家对于地图的使用有明确的法律法规，只能使用官方提供的地图。

> 如果你自己随意从网上使用非官方的地图，比如缺少藏南地区，或者缺少台湾地区，那么你这个行为是犯法的。

我国规定互联网上可公开发布的地图，最高精度为 1:10000 ，请注意这里的 10000 单位是厘米，即 100 米。



<br>

**地图来源 2：实地采集**

耗人耗时，只适用于少量局部地区。

优点是精度高，置信度，准确度高。

并且不是任何人都可以进行地理测绘的，只有取得国家相关测绘资质的企业才可以展开。

> 目前国内有测绘许可的企业有 高德、四维图新 等
>
> 有资质的测绘企业非常少，外国公司则更不具备中国的测绘资质。
>
> 所以谷歌地图也需要从上述公司购买地图数据。



<br>

**地图来源 3：航片卫片制作**

就是通过拍摄或购买高精度航空照片、卫星照片、遥感照片，在此作为底片的基础上进行认为的矢量标注和勾勒，从而形成自己的矢量数据。

航片或遥感的精度目前非常高，一般来说可以做到精度在 0.05 米的程度，甚至更高。

> 你想象一下你手机使用地图导航，当你稍微移动一下自己的位置，地图上表示你的 圆点 就也会发生变化。



<br>

目前比较火的有 倾斜摄影，可以比较快速构建出 3D 实景。



<br>

### POI数据

**POI：Point of Interest**

严格来说 POI 数据属于 矢量数据，不过是最简单的矢量数据，只包含坐标点 和 标注数据。

POI 数据是电子地图上最常用的数据图层。

POI 数据值需要用于地点标注，不需要相应的地物轮廓信息。

POI 数据的内容为：饭店、商店、加油站、医院、ATM机等。

在一些特殊的区域，甚至可能需要委托第三方进行专门的信息采集，例如 井盖、消防栓等。

实际上，当我们自己打开地图，或者汽车导航打开地图，用来表示我们自己的圆圈本质上也是一个 POI 数据点。



<br>

**常见的 POI 数据采集方式：**

1. 通过整合 GPS 的摄像机，步行或者车行，进行扫街持续拍摄，回去以后在根据拍摄结果手工进行输入和标注。
2. 手持含 GPS 的智能设备进行采集。
3. 地址反向编译，即通过矢量地图中的道路数据，运用算法进行定位标注。
4. 直接从互联网抓取或者想企业购买。
5. 地图服务商开发 API 接口，允许用户自己添加信息标注。



<br>

### 其他数据图层或数据

常见的有 卫星图层、交通状况图层、三维图、街景图。

专业领域有楼盘图、室内图、气温分布图、商圈分布图、地形图、水文图等。

可以看出，基于电子地图的数据层应用范围非常广泛，不同的图层代表了不同的数据。



<br>

**补充说明：**

目前中国处于高速发展阶段，尤其城市变化很快，所以中国的城市地图更新工作量和频率都比较高。

对于已经发展平稳的国外城市，他们的变化不大，加上之前比较重视信息采集，所以国外的地图更新速度不需要那么快。



<br>

## 三维GIS

最早成熟的 三维 GIS 应用就是 谷歌地球。



<br>

请注意：本文所学习的《GIS基础概念知识培训》，是作者 木遥 写于 2016 年 6 月。

所以下面这部分内容有可能已经过时了。



<br>

**主要的三维 GIS 平台和软件：**

1. Skyline：一款优秀的三维数字地球平台软件，是(2016年)制作大型真实三维数字场景的首选软件。

2. ArcGlobe：基于 OpenGL 的三维透视场景平台。

3. GoogleEarth：谷歌地球，连上网可以查看地球任意地方。

4. Cesium：基于 JS 库，用于在 Web 浏览器创建 3D 地球 和 2D 地图。

   > 前端开发 3D GIS 首选，我也是因为要学习 Cesium.js 所以才学习 GIS，写下本文的。



<br>

**三维GIS的瓶颈：**

先说三维 GIS 的优势：

1. 三维场景更接近于人的视觉习惯，更加真实。
2. 三维能提供更多信息，能够表现更多的空间关系。

三维 GIS 的瓶颈有 2 个：

1. 三维数据获取成品

   > 实际中需要大量 3D 建模

2. 突破三维 GIS 软件技术

   > GIS 平台用户的需求从低到高的 5 个层次：数据获取/管理、可视化、查询、分析、建模。
   >
   > 请注意上面提到的 建模 并不是指 3D 建筑模型建模，而是指 数据分析建模。
   >
   > 目前来说三维 GIS 对于后 2 个层次需求差强人意。

   > 再次强调作者写这篇文章的时候是 2016 年，现在 2021 年各种 CIM、BIM 正是最火热的时候。
   >
   > 尤其是国家相关部委大力支持 数字城市管理，所以上面提到的很多问题，尽管没有完全解决，但是情况已经好很多了。



<br>

传统的 2D 地图属于实力派：可视化比不过 3D ，但是功能强大。

新兴的 3D 地图属于偶像派：可视化、颜值比较高，但功能性略微不足。

> 以上观点是作者在 2016 年得出的，放到今天不能说过时，但你也就听听，当个玩笑而已。



<br>

## 关于地图坐标系的补充

美国 GPS 使用的是 WGS84 坐标系。

中国使用的是 CGCS2000 坐标系。

这两个坐标系实际上相差很小，甚至可以看做是相同的。

以上是我们本文前面已经讲过的知识点。



<br>

**火星坐标系**

为了国家安全，国内所有导航电子地图必须使用国家测绘局制定的加密坐标系。

就是将一个真实的经纬度坐标加密成一个不正确的经纬度坐标。

1. 在行业内，将前者称之为：地球坐标系
2. 将后者称之为：火星坐标系(GCJ-02)



<br>

通常开发国外 GIS 都使用地球坐标(WGS84)，开发国内 GIS 都是用火星坐标。

国内的 iOS地图、谷歌地图、腾讯地图、高德地图 他们都只用的是火星坐标。

但是，百度地图在火星坐标基础上进行了二次加工，创了自己的一套坐标系：百度坐标系。



<br>

**百度坐标系：**

百度地图的数据实际上是购买的，使用的是 火星坐标系。

百度地图自己在这套坐标系上又设计了一套坐标系，即 百度坐标系。



<br>

搜狗地图也有一套自己的坐标系。



**中国唯一官方地图：天地图**

https://www.tianditu.gov.cn/

天地图是国家测绘地理信息局建设的 “国家地理信息公众服务平台”。

天地图采用 CGCS2000 标准，可以等同于 WGS84 标准。

> 百度地图、高德地图、腾讯地图、搜狗地图 他们都是从 天地图 获取的底图数据，经过自己加工后得到自己的地图数据。
>
> 天地图对外提供的是 火星坐标。



<br>

**国内地图服务行业现状：**

1. 阿里：高德地图、易图通
2. 腾讯：四维图新、科菱航睿
3. 百度：长地万方
4. 小米：凯立德



<br>

**补充说明：**

滴滴为了避开 2021年7月1日 新修订的《中华人民共和国测绘法》，偷偷于 2021年6月30日 美国上市，并将核心数据提交给美国，行为可耻！



<br>

## GIS的发展历程

回顾一下 GIS 近 50 年的发展历程。

1. 第 1 代：简单工具式
2. 第 2 代：桌面组件式
3. 第 3 代：网络服务式
4. 第 4 代：高性能 GIS 云



<br>

最近一两年，基于浏览器的 GIS 3D 应用得到突飞猛进的发展。

这要归功于浏览器的 WebGL 功能，打开了 浏览器渲染 3D 的大门。



<br>

此致，本文结束。



<br>

我已有 Three.js 的基础，目前刚开始学习 Cesium.js。

加油，自己！
